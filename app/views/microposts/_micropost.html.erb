<article class="micropost-<%= micropost.id %>">
	<div class="micropost-container">
		<div class="my-flex-container flex-row micropost-flex-container">
			<div class="micropost-avatar">
				<div class="flex flex-column">
					<div class="flex-50">
						<%= link_to micropost.user, class: "dimmer-wrapper" do %>
							<%= gravatar_for(micropost.user, size:50) %>
							<div class="dimmer transition-03s"></div>
						<% end %>
					</div>
				</div>
			</div>
			<div class="my-flex-container flex-column micropost-main">
				<div>
					<span class="user">
						<%= link_to micropost.user.name, micropost.user %>
					</span>
					<span class="timestamp">
						·
						<%= time_ago_in_words(micropost.created_at) %>
					</span>
					<% if current_user?(micropost.user) %>
						<span class="delete">
							·
							<%= link_to 'delete', micropost, method: :delete, data: { confirm: 'Are you sure?'} %>
						</span>
					<% end %>
				</div>
				<div>
					<div >
						<span class="content">
							<%= micropost.content %>
						</span>
					</div>
					<% if micropost.image.attached? %>
						<div class="image-block micropost-image-cover" style="background-image: url('<%= micropost.image_url %>');" data-toggle="modal" data-target="#my-micropost-modal-<%= micropost.id %>">
							<div class="micropost-image"></div>
						</div>

						<!-- IMAGE MODAL - BEGIN -->
							<!-- Button trigger modal -->
							<div class="flex flex-row flex-grow-1 justify-content-flex-end">
								<div class="flex-center empty">
									<div class="button-wrapper flex-center show-large-button" data-toggle="modal" data-target="#my-micropost-modal-<%= micropost.id %>">
										<div class="close-button" aria-hidden="true">
											<svg class="bi bi-arrows-fullscreen" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
											  <path fill-rule="evenodd" d="M1.464 10.536a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3.5a.5.5 0 0 1-.5-.5v-3.5a.5.5 0 0 1 .5-.5z"/>
											  <path fill-rule="evenodd" d="M5.964 10a.5.5 0 0 1 0 .707l-4.146 4.147a.5.5 0 0 1-.707-.708L5.257 10a.5.5 0 0 1 .707 0zm8.854-8.854a.5.5 0 0 1 0 .708L10.672 6a.5.5 0 0 1-.708-.707l4.147-4.147a.5.5 0 0 1 .707 0z"/>
											  <path fill-rule="evenodd" d="M10.5 1.5A.5.5 0 0 1 11 1h3.5a.5.5 0 0 1 .5.5V5a.5.5 0 0 1-1 0V2h-3a.5.5 0 0 1-.5-.5zm4 9a.5.5 0 0 0-.5.5v3h-3a.5.5 0 0 0 0 1h3.5a.5.5 0 0 0 .5-.5V11a.5.5 0 0 0-.5-.5z"/>
											  <path fill-rule="evenodd" d="M10 9.964a.5.5 0 0 0 0 .708l4.146 4.146a.5.5 0 0 0 .708-.707l-4.147-4.147a.5.5 0 0 0-.707 0zM1.182 1.146a.5.5 0 0 0 0 .708L5.328 6a.5.5 0 0 0 .708-.707L1.889 1.146a.5.5 0 0 0-.707 0z"/>
											  <path fill-rule="evenodd" d="M5.5 1.5A.5.5 0 0 0 5 1H1.5a.5.5 0 0 0-.5.5V5a.5.5 0 0 0 1 0V2h3a.5.5 0 0 0 .5-.5z"/>
											</svg>
										</div>
									</div>
								</div>
							</div>
							<!-- Button trigger modal -->
							<!-- Modal -->
							<div class="modal fade" id="my-micropost-modal-<%= micropost.id %>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
							  <div class="modal-dialog" role="document">
							    <div class="modal-content">
							      <div class="modal-body">
											<div class="flex-center max-dem no-scroll">
												<button type="button" class="close" data-dismiss="modal" aria-label="Close">
													<div class="button-wrapper my-flex-container flex-center">
														<div class="close-button" aria-hidden="true">
															<svg viewBox="0 0 24 24" class="r-jwli3a r-4qtqp9 r-yyyyoo r-1q142lx r-50lct3 r-dnmrzs r-bnwqim r-1plcrui r-lrvibr"><g><path d="M13.414 12l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L12 10.586 6.207 4.793c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L10.586 12l-5.793 5.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L12 13.414l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L13.414 12z"></path></g></svg>
														</div>
													</div>
												</button>
												<div>
													<%= image_tag micropost.image %>
												</div>
											</div>
							      </div>
							    </div>
							  </div>
							</div>
						<!-- IMAGE MODAL - END -->
					<% end %>
				</div>
			</div>
		</div>
	</div>
</article>
