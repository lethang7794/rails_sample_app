<!-- PAGE CONTENT - BEGIN -->
<div class="row">
	<div class="col-md-6 col-md-offset-3">
    <div class="page-main-content micropost-show-page">
			<article class="micropost-<%= @micropost.id %> micropost-container-wrapper border-bottom">
				<div class="micropost-container border-right border-left">
			    <div class="flex flex-column micropost-flex-container">
			      <div class="my-flex-container flex-row ">
			  			<div class="micropost-avatar rounded-circle overflow-hidden dimmer-wrapper loading-shimmer">
			  				<%= link_to @micropost.user do %>
			  					<%= gravatar_for(@micropost.user, size:50) %>
			  					<div class="dimmer"></div>
			  				<% end %>
			  			</div>
			  			<div class="my-flex-container flex-column micropost-header">
			  				<div class="my-flex-container flex-column">
			  					<span class="user">
			  						<%= link_to @micropost.user.name, @micropost.user %>
			  					</span>
			  					<span class="username">
			  						<%= link_to "@#{@micropost.user.username}", @micropost.user %>
			  					</span>
			  					<% if current_user?(@micropost.user) %>
			  						<span class="delete">
			  							Â·
			  							<%= link_to 'delete', @micropost, method: :delete, data: { confirm: 'Are you sure?'} %>
			  						</span>
			  					<% end %>
			  				</div>

			  			</div>
			  		</div>
			      <div class="my-flex-container flex-column micropost-main">
			        <div>
			          <% if @micropost.content %>
			            <span class="micropost-content"><%= sanitize @micropost.content_display.html_safe %></span>
			          <% end %>
			        </div>
			        <% if @micropost.image.attached? %>
			          <!-- MODAL WRAPPER - BEGIN -->
			          <div class="modal-wrapper">
			            <!-- MODAL TOGGLE - BEGIN -->
			            <div class="modal-toggle" data-toggle="modal" data-target="#image-modal-micropost-<%= @micropost.id %>">
			              <div class="micropost-image-wrapper cursor-pointer">
			                <div class="image-placeholder rounded overflow-hidden position-relative">
			                  <div class="loading-shimmer position-absolute"></div>
			                  <div class="micropost-image-cover position-absolute" style="background-image: url('<%= @micropost.image_url %>');">
			                    <div class="button-position flex flex-row flex-grow-1 justify-content-flex-end">
			                      <div class="flex-center empty">
			                        <div class="button-wrapper flex-center right-top-corner">
			                          <div class="button flex-center" aria-hidden="true">
			                            <%= render 'shared/svg/fullscreen' %>
			                          </div>
			                        </div>
			                      </div>
			                    </div>
			                  </div>
			                </div>
			              </div>
			            </div>
			            <!-- MODAL TOGGLE - END -->

			            <!-- MODAL - BEGIN -->
			            <%= render partial: 'shared/modals/image_micropost', locals: { micropost: @micropost } %>
			            <!-- MODAL - END -->
			          </div>
			          <!-- MODAL WRAPPER - END -->
			        <% end %>
			      </div>
			    </div>
				</div>
			</article>
			<div class="border border-top-0">
				<%= commontator_thread(@micropost) %>
			</div>
    </div>
  </div>
</div>
<!-- PAGE CONTENT - END -->
